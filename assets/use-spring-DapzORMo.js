import{ai as d,i as y,aj as V,r as p,ak as h,b as x,a as A}from"./index-DK77TLof.js";function C(t,e,a){const r=t.get();let n=null,c=r,f;const l=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,s=()=>{n&&(n.stop(),n=null)},S=()=>{s(),n=new V({keyframes:[m(t.get()),m(c)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:f})};if(t.attach((o,i)=>(c=o,f=u=>i(g(u,l)),d.postRender(S),t.get()),s),y(e)){const o=e.on("change",u=>t.set(g(u,l))),i=t.on("destroy",o);return()=>{o(),i()}}return s}function g(t,e){return e?t+e:t}function m(t){return typeof t=="number"?t:parseFloat(t)}function M(t,e={}){const{isStatic:a}=p.useContext(h),r=()=>y(t)?t.get():t;if(a)return x(r);const n=A(r());return p.useInsertionEffect(()=>C(n,t,e),[n,JSON.stringify(e)]),n}export{M as u};
